/* ElegantFin Theme LATEST for Jellyfin by lscambo13 */
@import url("https://cdn.jsdelivr.net/gh/lscambo13/ElegantFin@main/Theme/ElegantFin-jellyfin-theme-build-latest-minified.css");


/* ============================================================
   CUSTOM CSS – SPICY JELLY (ELEGANTFIN ADD-ONS ONLY)
   ============================================================ */


/* ============================================================
   1. COLOURS & GLOBAL THEME OVERRIDES
   - Background gradients
   - Menu / drawer / popup colours
   - Mini play button colours
   ============================================================ */

:root {
  --darkerGradientPoint: rgb(20, 20, 20);                 /* Background colour #1 */
  --lighterGradientPoint: rgb(26, 26, 26);                /* Background colour #2 */
  --darkerGradientPointAlpha: rgb(20, 20, 20, 0.85);      /* Background colour #3 */
  --lighterGradientPointAlpha: rgb(26, 26, 26, 0.85);     /* Background colour #4 */

  --selectorBackgroundColor: rgb(36, 36, 36);             /* Right-click menu background */
  --highlightOutlineColor: rgb(255, 255, 255);            /* Outline / border for above */

  --drawerColor: rgba(46, 46, 46, 0.9);                   /* Large popups / drawers */
  --headerColor: rgba(39, 39, 39, 0.8);                   /* Popup headers */
  --borderColor: hsl(0, 0%, 32%);                         /* Border colour for drawers, headers */

  --btnMiniPlayColor: rgba(65, 65, 65, 0.7) !important;   /* Mini play button colour */
  --btnMiniPlayBorderColor: rgba(121, 121, 121, 0.7) !important; /* Mini play border colour */
}

/* Global background gradient for main elements */
.element {
  --backgroundGradient: linear-gradient(
    0deg,
    var(--darkerGradientPoint) 35%,
    var(--lighterGradientPoint)
  );
  background: var(--backgroundGradient);
}


/* ============================================================
   2. HEADER – GRADIENT, BLUR & LOGO
   - Header gradient opacity
   - Blur for header
   - Custom logo in multiple header locations
   - Hiding header tabs (Home / Favorites)
   ============================================================ */

/* Adjust header gradient opacity */
:root {
  --headerColorGradient: linear-gradient(
    180deg,
    rgba(24, 24, 24, 0.85) 20%,
    rgba(24, 24, 24, 0.6) 40%,
    rgba(24, 24, 24, 0.4) 60%,
    rgba(24, 24, 24, 0.2) 80%,
    transparent 95%
  ) !important;
}

/* Adjust header blur amount */
.skinHeader-blurred:not(.osdHeader):not(.semiTransparent)::after {
  backdrop-filter: blur(4px) !important;
}

/* Custom logo URL */
:root {
  --customlogo: url("https://raw.githubusercontent.com/a-silly-goose/spicy-jelly/refs/heads/main/images/The%20Vault.png");
}

/* Use custom logo in various header places */
.adminDrawerLogo img {
  content: var(--customlogo) !important;
}

imgLogoIcon {
  content: var(--customlogo) !important;
}

.pageTitleWithLogo {
  background-image: var(--customlogo) !important;
}

/* Hide Home / Fav header buttons */
div[is="emby-tabs"][data-index="0"],
div.emby-tabs[data-index="3"] {
  display: none !important;
}


/* ============================================================
   3. MISC GLOBAL TWEAKS
   - Scrollbar visibility
   ============================================================ */

/* Removes scrollbar (set to 'thin' if you prefer a slim bar) */
* {
  scrollbar-width: none;
  scrollbar-color: #3b3b3b #202020;
}


/* ============================================================
   4. MEDIA BAR – BACKDROP & BUTTON LAYOUT
   - Backdrop gradient mask
   - Media bar action buttons layout and styling
   - Age rating colour
   - Header fix for specific version
   ============================================================ */


/* Adjusts media bar backdrop gradient/mask */
.backdrop-container {
  position: absolute;
  top: 0;
  right: 0;
  width: 100%;
  height: 100%;

  mask-image: linear-gradient(
    to bottom,
    #000 0%,
    #00000080 60%,
    #0000 90%
  );
  -webkit-mask-image: linear-gradient(
    to bottom,
    #000 0%,
    #00000080 60%,
    #0000 90%
  );
}

/* Media bar button flex layout */
.button-container {
  display: flex;
  gap: 0.5rem;
  align-items: center;
}

/* Play button — pill-like, first in order */
.button-container .btnPlay {
  order: 1;
  /* Adjust border-radius here if you want a more pill-like shape */
}

/* Detail button — circular */
.button-container .detail-button {
  order: 2;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}
.button-container .detail-button:hover {
  color: rgba(128, 128, 128, 1)!important; 
}

/* Detail button – remove all backgrounds / shadows in all states */
.button-container .detail-button,
.button-container .detail-button:focus,
.button-container .detail-button:active,
.button-container .detail-button:hover,
.button-container .detail-button[data-active="true"],
.button-container .detail-button.selected {
  background: none !important;
  background-color: transparent !important;
  box-shadow: none !important;
  border: none !important;
}

/* Customising the media bar favourite button */
.button-container .favorite-button {
 /* display: none !important; /*Change to make favourite button visible*/
}

/* Favorite button — circular white heart */
.button-container .favorite-button {
  order: 3;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  color: #ffffff !important;
}
.button-container .favorite-button:hover {
  color: rgba(128, 128, 128, 1)!important; 
}

/* Favorite button – remove all backgrounds / shadows in all states */
.button-container .favorite-button,
.button-container .favorite-button:focus,
.button-container .favorite-button:active,
.button-container .favorite-button:hover,
.button-container .favorite-button[data-active="true"],
.button-container .favorite-button.selected {
  background: none !important;
  background-color: transparent !important;
  box-shadow: none !important;
  border: none !important;
}

/* Watchlist button — circular, consistent size, COLOUR CHANGE ON HOVER */
.button-container .watchlist-button {
  order: 4;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  border: none;
  cursor: pointer;
  transition: color 0.2s ease;
}
.button-container .watchlist-button:hover {
  color: rgba(128, 128, 128, 1); 
}

/* Watchlist button – remove all backgrounds / shadows in all states */
.button-container .watchlist-button,
.button-container .watchlist-button:focus,
.button-container .watchlist-button:active,
.button-container .watchlist-button:hover,
.button-container .watchlist-button[data-active="true"],
.button-container .watchlist-button.selected {
  background: none !important;
  background-color: transparent !important;
  box-shadow: none !important;
  border: none !important;
}

/* Text colour for age rating pill */
.age-rating {
  color: #ffffff;
}

/*Adjusts pause button location*/
.pause-button {
  transform: translateY(20px) !important; /* Moves it down regardless of positioning */
}
/*Adjusts volume button location*/
.volume-toggle {
  transform: translateY(20px) !important; /* Moves it down regardless of positioning */
}

/* Lower the first card carousel under the media bar */
.verticalSection.ContinueWatchingNextUp.section0.emby-scroller-container {
  margin-top: 2.5rem !important;  /* tweak: 2rem–4rem to taste */
}


/* Fixes the header on 10.11 (slides container) */
#slides-container {
  position: static;
  width: 100vw;
  height: 90%;
  overflow: hidden;
  margin: 0 auto;
}


/* ============================================================
   5. PLAYBACK CONTROLS – PROGRESS BAR, BUTTONS, LAYOUT
   - Hide chapter markers
   - Keep OSD row horizontal
   - Card overlay & primary play button position/size
   ============================================================ */

/* Hide chapter markers on playback progress bar */
.sliderMarker {
  display: none !important;
}

/* Keep the OSD controls inner row horizontal */
.osdControls > div.flex.flex-direction-row {
  display: flex !important;
  flex-direction: row !important;
  align-items: center;
  gap: 0.5rem !important;
}

/* Ensure card is relatively positioned for overlays */
.card,
.itemActionCard,
.anyCardContainerClass {
  position: relative !important;
}

/* Make the card overlay cover the entire card */
.cardOverlayContainer {
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  width: 100% !important;
  height: 100% !important;
  pointer-events: none;
  z-index: 1;
}

/* Center the play/resume button on cards */
.cardOverlayFab-primary {
  position: absolute !important;
  left: 50% !important;
  top: 50% !important;
  transform: translate(-50%, -50%) scale(1) !important;
  z-index: 2;
  pointer-events: auto;
  transition: transform 0.15s cubic-bezier(.4, 0, .2, 1);

  width: 40px !important;       /* Larger circular button */
  height: 40px !important;
  min-width: 40px !important;
  min-height: 40px !important;
  border-radius: 50% !important;
}

/* Grow on hover and focus */
.cardOverlayFab-primary:hover,
.cardOverlayFab-primary:focus {
  transform: translate(-50%, -50%) scale(1.22) !important;
  z-index: 3;
}

/* Play icon size inside overlay button (base colour then overridden below) */
.cardOverlayFab-primary .cardOverlayButtonIcon {
  font-size: 24px !important;
}

/* Final play icon colour override (triangle colour) */
.cardOverlayFab-primary .cardOverlayButtonIcon {
  color: rgba(255, 255, 255, 0.8) !important;
}

/* ============================================================
   6. SEASON PAGE – EPISODE CARD SIZE & HOVER BEHAVIOUR
   - Episode card padding / text sizing
   - Play button sizing and hover-only visibility
   ============================================================ */

/* Adjust episode card padding & height for balanced spacing */
.listItem.listItem-largeImage.listItem-withContentWrapper {
  padding: 12px 12px 12px 12px !important;
  min-height: auto !important;
  max-height: none !important;
}

/* Enlarge play button inside episode thumbnail */
.listItemImageButton {
  width: 30px !important;
  height: 30px !important;
}

/* Episode title font size */
.listItemBodyText bdi {
  font-size: 17px !important;
  line-height: 1.3 !important;
  max-height: 36px !important;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Secondary info font size and spacing */
.listItemMediaInfo.mediaInfoItem {
  font-size: 13px !important;
  margin-right: 10px !important;
}

/* Description overview with max 2 lines */
.listItem-overview.listItemBodyText bdi p {
  font-size: 13px !important;
  margin-top: 4px !important;
  margin-bottom: 0 !important;
  max-height: 42px !important;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
}

/* User data buttons sizing */
.listViewUserDataButtons .listItemButton {
  width: 28px !important;
  height: 28px !important;
  margin-left: 4px !important;
}

/* Bottom overview text */
.listItem-bottomoverview bdi {
  font-size: 12px !important;
  max-height: 32px !important;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Fix issue of play button always visible on episodes */

/* Hide play button by default */
.listItemImageButton {
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s ease, transform 0.3s ease;
  transform: scale(1.3);
}

/* Show play button when hovering over the episode card */
.listItem.listItem-largeImage.listItem-withContentWrapper:hover .listItemImageButton {
  opacity: 1;
  pointer-events: auto;
}

/* Grow play button only when hovering the button itself */
.listItemImageButton:hover {
  transform: scale(1.5);
}

/* Fixes Episodes On Series Page in KefinTweaks */
#itemDetailPage .emby-scroller-container {
    overflow: hidden;
    min-width: 100%;
    order: 2;
    padding-left: var(--sidePadding)
}

.series-episodes-section {
    grid-column: 1 / 5;
}

#itemDetailPage .scrollX {
    width: calc(100% + 4em);  /* Wider than container by padding amount */
    margin: 0 -2em;           /* Negative margin = exactly padding width */
    overflow-x: auto;
    display: grid;
    align-content: end;
}

/* Distance between Episode Carousel and Genre Info */
.layout-desktop .detailSectionContent {
    display: grid;
    align-content: end;
    min-height: 0vh !important;
}

/* Fixes Season text being overlapped by show logo */
* .subtitle {
    padding-bottom: 0 !important;
}

/* Put desc above episode carousel*/
.itemDetailsGroup {
  order: 3;
}
.trackSelections {
  order: 4;
}

/* Fix Season folders */
.detailSection>#listChildrenCollapsible {
    display: grid;
    align-content: end;
    grid-column: 1 / -1;
} 

/* ============================================================
   7. INDICATORS – PLAYED & COUNT
   - Marked-as-played indicator box
   - Count indicator styling
   ============================================================ */

/* Rounded corner background box behind the check mark (played) */
.playedIndicator.indicator {
  background-color: rgba(15, 22, 36, 0.5) !important;
  padding: 0 !important;
  border-radius: 6px !important;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 26px !important;
  height: 26px !important;
  box-sizing: border-box;
}

/* Check mark icon styling */
.playedIndicator.indicator .indicatorIcon.check {
  color: rgba(0, 187, 119) !important;
  font-size: 18px !important;
  background: none !important;
  box-shadow: none !important;
  border: none !important;
  padding: 0 !important;
  margin: auto;
}

/* Count indicator styled similar to played indicator */
.cardIndicators .countIndicator.indicator {
  background-color: rgba(15, 22, 36, 0.5) !important;
  color: rgba(255, 255, 255, 0.8) !important;
  padding: 0 !important;
  border-radius: 6px !important;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  width: 26px !important;
  height: 26px !important;
  box-sizing: border-box;
  font-size: 14px !important;
  user-select: none;
}


/* ============================================================
   8. OSD VERTICAL ORDER – TIMELINE ABOVE CONTROLS
   - Reorder timeline and controls vertically
   - Remove extra spacing around elements
   ============================================================ */

/* OSD controls wrapper anchored at bottom */
.osdControls {
  position: relative !important;
  bottom: 0 !important;
  left: 0;
  right: 0;
  display: flex;
  flex-direction: column;
  box-sizing: border-box;

  /* Edge padding: top | right | bottom | left */
  padding: 20px 40px 0px 40px !important;
}

/* Timeline / seekbar row above buttons */
.osdControls > .flex.flex-direction-row.align-items-center {
  order: -1;         /* move above button row */
  position: relative;
  z-index: 5;
  margin-bottom: 0 !important;
  padding-bottom: 0 !important;
}

/* Button row (play/pause, volume, etc.) */
.osdControls > .buttons.focuscontainer-x {
  order: 0;          /* sits below the slider row */
  position: relative !important;
  bottom: auto !important;
  z-index: 1;
  margin-top: 0 !important;
  padding-top: 0 !important;
}

/* Remove unintended spacing inside OSD elements */
.osdControls .sliderContainer,
.osdControls .osdTextContainer {
  margin: 0 !important;
  padding: 0 !important;
}


/* ============================================================
   9. NAVIGATION TWEAKS – TABS
   - Hide “Trailers” tab in Movies
   ============================================================ */

/* Hide the "Trailers" tab on Movies views */
.mainDrawer:has(.navMenuOption-selected[href^="#/movies.html"])
  + .skinHeader
  .emby-tab-button[data-index="2"] {
  display: none !important;
}


/* ============================================================
   10. SKIP BUTTON (INTRO / RECAP)
   - Background & hover
   - Text and icon colour
   ============================================================ */

/* Base skip button */
.skip-button {
  background-color: rgba(255, 255, 255, 0.8) !important;
  color: rgba(0, 0, 0, 0.8) !important;        /* Text colour */
}

/* Hover state */
.skip-button:hover {
  background-color: rgba(255, 255, 255, 1) !important;
}

/* Icon inside the skip button */
.skip-button .material-icons {
  color: rgba(0, 0, 0, 0.8) !important;        /* Icon colour */
}


